<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>gCorp</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
  <link rel="stylesheet" href="/styleSheets/font.css">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=orders" />
</head>

<body class="bg-[#d8e2dc] text-black">



  <!-- Container -->
  <div class="max-w-md mx-auto pb-20 sm:px-6 px-4 bg-[#f8f9fa] ">

    <!-- Header -->
    <div class="pt-6">
      <div class="flex justify-between items-center">
        <div>
          <p class="text-xl text-gray-500">Hello,</p>
          <h1 class="text-xl sm:text-2xl font-bold">
            <%=user.name%>
          </h1>
        </div>
        <a href="/Main/profile" class="rounded-full bg-red-600 h-9  w-9 overflow-hidden border border-zinc-400">
          <img src="/images/logo.png" alt="">
        </a>
      </div>
    </div>

    <!-- Tournaments -->
    <div class="mt-6">
      <!-- <h2 class="font-semibold text-gray-700 text-base sm:text-lg">Tournaments</h2> -->
      <div
        class="mt-2 bg-gradient-to-r from-blue-500 to-black rounded-xl overflow-hidden text-white p-4 flex items-center justify-between">
        <div>
          <h1 class="text-base bg-zinc-100/50 px-3 py-1 rounded-md mb-2">Earn Money By Playing</h1>
          <h3 class="text-xl font-semibold px-1">Make Your Money 2x , 3x </h3>
        </div>
      </div>
    </div>


    <h1 class="text-3xl pt-4 flex gap-2 items-center font-bold">Bidding Categories <img class="h-11"
        src="/images/flying-money.png" alt="flying-money">

    </h1>



    <!-- Matches -->
    <div class="mt-6 space-y-5">
      <!-- Match 1 - 2 Option Bid -->
      <div class="card-gradient bid-card rounded-2xl p-5 border border-zinc-200 bg-zinc-100">
        <div class="flex justify-between items-center mb-4">
          <h3 class="font-medium text-premium-dark/80">Place your bid</h3>
          <div class="flex items-center text-sm bg-[#DEE2EE]  px-2 py-1 rounded-full">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <div id="timerDisplay">Loading...</div>
            <div id="restartMessage"></div>

          </div>
        </div>

        <div class="flex justify-around items-center my-6">
          <div class="text-center">
            <div
              class="w-20 h-20 bg-blue-700 rounded-xl flex items-center justify-center text-white text-2xl font-bold shadow-lg mx-auto">
              1
            </div>
            <p class="mt-2 font-medium">Option 1</p>
          </div>
          <div class="text-center">
            <div
              class="w-20 h-20 bg-red-600 rounded-xl flex items-center justify-center text-white text-2xl font-bold shadow-lg mx-auto">
              2
            </div>
            <p class="mt-2 font-medium">Option 2</p>
          </div>
        </div>

        <div class="flex justify-between mt-6">
          <a href="/bid/bid2x" id="bidNowBtn"
            class="flex-1 text-center bg-yellow-500 hover:bg-yellow-600 text-premium-dark font-semibold py-2 px-4 rounded-lg mr-2 transition-all">
            Bid Now
          </a>
          <a
            class="flex-1 bg-zinc-200 hover:bg-zinc-300 text-premium-dark font-semibold py-2 px-4 rounded-lg ml-2 transition-all flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
            </svg>
            History
          </a>
        </div>

        <div class="mt-4 text-center">
          <span class="inline-block bg-zinc-200 text-premium-dark text-sm font-medium px-3 py-1 rounded-full">
            Reward: 2x
          </span>
        </div>
      </div>

      <script async="async" data-cfasync="false" src="//pl26575744.profitableratecpm.com/eda7dfb5e87d869faf18ad805af38f53/invoke.js"></script>
      <div id="container-eda7dfb5e87d869faf18ad805af38f53"></div>    

      <!-- Match 2 - 3 Option Bid -->
      <div class="card-gradient bid-card rounded-2xl p-5 border border-zinc-200 bg-zinc-100">
        <div class="flex justify-between items-center mb-4">
          <h3 class="font-medium text-premium-dark/80">Place your bid</h3>
          <div class="flex items-center text-sm bg-[#DEE2EE] px-2 py-1 rounded-full">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            12:30 remaining
          </div>
        </div>

        <div class="flex justify-around items-center my-6">
          <div class="text-center">
            <div
              class="w-16 h-16 bg-blue-700 rounded-xl flex items-center justify-center text-white text-xl font-bold shadow-lg mx-auto">
              1
            </div>
            <p class="mt-2 text-sm font-medium">Option 1</p>
          </div>

          <div class="text-center">
            <div
              class="w-16 h-16 bg-red-600 rounded-xl flex items-center justify-center text-white text-xl font-bold shadow-lg mx-auto">
              2
            </div>
            <p class="mt-2 text-sm font-medium">Option 2</p>
          </div>

          <div class="text-center">
            <div
              class="w-16 h-16 bg-green-600 rounded-xl flex items-center justify-center text-white text-xl font-bold shadow-lg mx-auto">
              3
            </div>
            <p class="mt-2 text-sm font-medium">Option 3</p>
          </div>
        </div>

        <div class="flex justify-between mt-6">
          <button
            class="flex-1 bg-yellow-500 hover:bg-yellow-600 premium-accent/90 text-premium-dark font-semibold py-2 px-4 rounded-lg mr-2 transition-all">
            Bid Now
          </button>
          <button
            class="flex-1 bg-zinc-200 hover:bg-zinc-300 text-premium-dark font-semibold py-2 px-4 rounded-lg ml-2 transition-all flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
            </svg>
            History
          </button>
        </div>

        <div class="mt-4 text-center">
          <span class="inline-block bg-zinc-200 text-premium-dark text-sm font-medium px-3 py-1 rounded-full">
            Potential Reward: 3x
          </span>
        </div>
      </div>

    
    </div>
  </div>

  
  <!-- Bottom Navigation -->
  <div style="z-index: 100;"
    class="fixed bottom-0 left-0 right-0 bg-gradient-to-r from-blue-800 to-black text-white flex justify-around items-center h-14  rounded-t-2xl sm:max-w-md sm:mx-auto">
    <a href="/" class="text-xl bg-zinc-100/30 rounded-2xl p-2">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
        class="size-6">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
      </svg>
    </a>
    <a href="/Main/wallet" class="text-xl"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
        stroke-width="1.5" stroke="currentColor" class="size-6">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z" />
      </svg>
    </a>
    <a href="/Main/orders" class="text-xl">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
        class="size-6">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75Z" />
      </svg>

    </a>
    <a href="/Main/profile" class="text-xl"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
        stroke-width="1.5" stroke="currentColor" class="size-6">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
      </svg>
    </a>
  </div>


  <script>
    // Function to update the timer display
    function updateTimer(remainingTime) {
      const minutes = Math.floor(remainingTime / 60000).toString().padStart(2, '0');
      const seconds = Math.floor((remainingTime % 60000) / 1000).toString().padStart(2, '0');
      document.getElementById("timerDisplay").textContent = `Time left: ${minutes}:${seconds}`;

      // Disable "Bid Now" button if only 1 minute or less is left
      const bidNowBtn = document.getElementById("bidNowBtn");
      if (bidNowBtn) {
        if (remainingTime <= 60000) { // If 1 minute or less is left
          bidNowBtn.style.pointerEvents = "none";  // Prevent clicking
          bidNowBtn.style.opacity = "0.5";         // Make it look disabled
          bidNowBtn.textContent = "Bid Closed"; // Change text
        } else {
          bidNowBtn.style.pointerEvents = "auto"; // Re-enable clicking
          bidNowBtn.style.opacity = "1";         // Restore normal opacity
          bidNowBtn.textContent = "Bid Now";      // Restore text
        }
      }


      if (remainingTime <= 0) {
        timerExpired(); // Trigger when timer expires
      }
    }

    // Function that is called when the timer expires
    function timerExpired() {

      console.log("Timer expired! Triggering action...");
 document.getElementById('timerDisplay').textContent = "";
      // Show message: Timer will restart in 5 seconds
      document.getElementById('restartMessage').textContent = "Next bid in 5 seconds...";

      // After 5 seconds, reset the timer
      setTimeout(() => {
        document.getElementById('restartMessage').textContent = "";
        fetchRemainingTime();  // Re-fetch remaining time to start the next cycle
      }, 5000); // 5-second delay before restart
    }

    // Fetch the remaining time from the server
    function fetchRemainingTime() {
      fetch('/get-remaining-time')
        .then(response => response.json())
        .then(data => {
          const remainingTime = data.remainingTime;
          updateTimer(remainingTime); // Update the timer display

          // Periodically fetch the time to keep the timer up to date
          setTimeout(fetchRemainingTime, 1000); // Re-fetch every second
        })
        .catch(err => console.error("Error fetching remaining time:", err));
    }

    // Start fetching the timer state from the server when the page loads
    window.onload = fetchRemainingTime;
  </script>




</body>

</html>